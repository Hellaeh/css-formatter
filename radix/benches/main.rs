#![feature(test)]
#![feature(variant_count)]

extern crate test;

use std::collections::BTreeMap;
use test::Bencher;

use radix::Radix;

macro_rules! helper {
	($tree: ident, $fn_name: ident) => {
		#[bench]
		fn $fn_name(b: &mut Bencher) {
			let mut tree = $tree::new();

			for (i, key) in KEYS.iter().enumerate() {
				tree.insert(key, i);
			}

			for key in KEYS.iter() {
				assert!(tree.get(key).is_some());
			}

			b.iter(|| {
				for key in KEYS {
					tree.get(key);
				}
			});
		}
	};
}

helper!(BTreeMap, btreemap);
helper!(Radix, radix);

static KEYS: &[&str] = &[
	"animation",
	"animation-name",
	"animation-delay",
	"animation-duration",
	"animation-timing-function",
	"animation-direction",
	"animation-fill-mode",
	"animation-iteration-count",
	"animation-play-state",
	"aspect-ratio",
	"box-sizing",
	"height",
	"width",
	"max-height",
	"max-width",
	"min-height",
	"min-width",
	"margin",
	"margin-top",
	"margin-right",
	"margin-bottom",
	"margin-left",
	"margin-block",
	"margin-block-start",
	"margin-block-end",
	"border",
	"border-width",
	"border-top",
	"border-top-width",
	"border-right",
	"border-right-width",
	"border-bottom",
	"border-bottom-width",
	"border-left",
	"border-left-width",
	"padding",
	"padding-top",
	"padding-right",
	"padding-bottom",
	"padding-left",
	"padding-inline-start",
	"visibility",
	"opacity",
	"overflow",
	"overflow-x",
	"overflow-y",
	"transform",
	"transform-origin",
	"transform-style",
	"rotate",
	"scale",
	"translate",
	"box-shadow",
	"caret-color",
	"clip-path",
	"cursor",
	"filter",
	"perspective",
	"perspective-origin",
	"accent-color",
	"background",
	"background-color",
	"background-attachment",
	"background-blend-mode",
	"background-clip",
	"background-image",
	"background-origin",
	"background-position",
	"background-repeat",
	"background-size",
	"backdrop-filter",
	"backface-visibility",
	"border-color",
	"border-image",
	"border-image-outset",
	"border-image-repeat",
	"border-image-slice",
	"border-image-source",
	"border-image-width",
	"border-radius",
	"border-style",
	"border-top-color",
	"border-top-left-radius",
	"border-top-right-radius",
	"border-top-style",
	"border-right-color",
	"border-right-style",
	"border-bottom-color",
	"border-bottom-left-radius",
	"border-bottom-right-radius",
	"border-bottom-style",
	"border-left-color",
	"border-left-style",
	"outline",
	"outline-color",
	"outline-offset",
	"outline-style",
	"outline-width",
	"list-style",
	"list-style-image",
	"list-style-position",
	"list-style-type",
	"display",
	"clear",
	"float",
	"gap",
	"flex-direction",
	"align-content",
	"align-items",
	"align-self",
	"justify-content",
	"order",
	"flex",
	"flex-basis",
	"flex-flow",
	"flex-grow",
	"flex-shrink",
	"flex-wrap",
	"grid",
	"justify-items",
	"justify-self",
	"grid-template",
	"grid-template-areas",
	"grid-template-columns",
	"grid-template-rows",
	"grid-area",
	"grid-auto-columns",
	"grid-auto-flow",
	"grid-auto-rows",
	"grid-column",
	"grid-column-end",
	"grid-column-gap",
	"grid-column-start",
	"grid-gap",
	"grid-row",
	"grid-row-end",
	"grid-row-gap",
	"grid-row-start",
	"border-collapse",
	"border-spacing",
	"caption-side",
	"empty-cells",
	"table-layout",
	"object-fit",
	"object-position",
	"position",
	"z-index",
	"top",
	"right",
	"bottom",
	"left",
	"all",
	"break-after",
	"break-before",
	"break-inside",
	"counter-increment",
	"counter-reset",
	"overscroll-behavior",
	"overscroll-behavior-block",
	"overscroll-behavior-inline",
	"overscroll-behavior-x",
	"overscroll-behavior-y",
	"pointer-events",
	"resize",
	"scroll-behavior",
	"touch-action",
	"user-select",
	"will-change",
	"transition",
	"transition-delay",
	"transition-duration",
	"transition-property",
	"transition-timing-function",
	"color",
	"content",
	"direction",
	"font",
	"font-family",
	"font-size",
	"font-style",
	"font-variation-settings",
	"font-weight",
	"line-height",
	"font-feature-settings",
	"font-kerning",
	"font-size-adjust",
	"font-stretch",
	"font-variant",
	"letter-spacing",
	"tab-size",
	"text-align",
	"text-align-last",
	"text-indent",
	"text-justify",
	"text-overflow",
	"vertical-align",
	"white-space",
	"word-break",
	"word-spacing",
	"word-wrap",
	"writing-mode",
	"columns",
	"widows",
	"column-count",
	"column-fill",
	"column-gap",
	"column-rule",
	"column-rule-color",
	"column-rule-style",
	"column-rule-width",
	"column-span",
	"column-width",
	"font-variant-ligatures",
	"hyphens",
	"quotes",
	"text-decoration",
	"text-decoration-color",
	"text-decoration-line",
	"text-decoration-style",
	"text-decoration-thickness",
	"text-shadow",
	"text-transform",
	"text-underline-offset",
	"text-rendering",
];
